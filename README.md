# Transaction Service

## Описание

Этот проект представляет собой сервис для обработки транзакций с возможностью расчета расходов в USD на основе текущих или последних доступных курсов валют KZT/USD и RUB/USD. Курсы валют загружаются ежедневно с использованием API (например, Fixer API) и сохраняются в базе данных PostgreSQL.

## Стек технологий
- Java 17
- Spring Boot 3.2.0
- PostgreSQL
- Docker
- Docker Compose
  
## Запуск сервиса

### 1. Установка необходимых инструментов
Перед тем как запустить сервис, убедитесь, что у вас установлены следующие инструменты:

- [Docker](https://docs.docker.com/get-started/get-docker/)
- [Docker Compose](https://docs.docker.com/compose/install/)

### 2. Запуск с использованием Docker Compose

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/lesbaydias/transactions-api-converter.git
   cd transactions-api-converter
   
3. Соберите и запустите контейнеры с помощью Docker Compose:
   ```bash
   docker-compose up --build
  
  Эта команда:
  - Сначала собирает образ вашего Java приложения.
  - Запускает сервис transaction-service и базу данных PostgreSQL


## Объяснение решений
    1. Выбор монолитной структуры: Я решил использовать монолитную архитектуру для упрощения разработки и деплоя на начальных этапах проекта. Это упрощает взаимодействие между компонентами и позволяет быстрее разрабатывать и тестировать функционал.
    2. Добавление таблицы для курсов валют: Я создал третью таблицу для хранения курсов валют, чтобы запрашивать и хранить дневные курсы валютных пар KZT/USD и RUB/USD. Это позволяет минимизировать обращения к внешним API и использовать локальные данные при расчете.
    3. Планировщик задач: Использование аннотации @Scheduled для сброса месячного лимита позволяет автоматически обновлять лимиты расходов первого числа каждого месяца.
    4. Код для получения курсов валют: Я реализовал метод getCurrencyRate, который проверяет наличие курса на текущий день, запрашивает его с API при необходимости и использует последний доступный курс, если данные недоступны.


   
